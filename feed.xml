<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.4.1">Jekyll</generator><link href="https://a1inani.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://a1inani.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2026-02-02T11:40:13+00:00</updated><id>https://a1inani.github.io/feed.xml</id><title type="html">blank</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">FoundryDB Developer Log 1</title><link href="https://a1inani.github.io/blog/2025/foundrydb_devlog_1/" rel="alternate" type="text/html" title="FoundryDB Developer Log 1"/><published>2025-11-11T00:00:00+00:00</published><updated>2025-11-11T00:00:00+00:00</updated><id>https://a1inani.github.io/blog/2025/foundrydb_devlog_1</id><content type="html" xml:base="https://a1inani.github.io/blog/2025/foundrydb_devlog_1/"><![CDATA[<blockquote> <p>A behind-the-scenes look at building FoundryDB ‚Äî a toy SQL database written from scratch in Python.</p> </blockquote> <p>I‚Äôve got a bit of time on my hands, and the last few blog posts are proof that I have been looking for something to keep me busy. A couple of days ago, I thought, <em>‚ÄúWhat if I built a small database in Python?‚Äù</em> I‚Äôve been teaching a course in Python programming the last few semesters, so I‚Äôm far from rusty in the language. Plus, it would present a decent optimization challenge I can hopefully throw some algorithms and data structures at further down the line.</p> <p>Now, it all sounds great in theory, but I have never built a database before. Where would I even begin? So I reached for an LLM (ChatGPT in this case) and asked it to generate a roadmap highlighting key concepts that need to be implemented.</p> <h2 id="well-call-it-foundrydb">We‚Äôll call it FoundryDB</h2> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/banner-480.webp 480w,/assets/img/banner-800.webp 800w,/assets/img/banner-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/banner.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>üîó <a href="https://github.com/a1inani/FoundryDB">GitHub Repository ‚Üí a1inani/FoundryDB</a></p> <hr/> <h3 id="phase-1-objectives">Phase 1 Objectives</h3> <p>Implement a <strong>minimal persistent storage layer</strong> for FoundryDB, capable of:</p> <ul> <li>Writing table rows to disk</li> <li>Reading all rows sequentially</li> <li>Surviving restarts</li> <li>Exposing a simple programmatic API (<code class="language-plaintext highlighter-rouge">insert</code>, <code class="language-plaintext highlighter-rouge">scan</code>)</li> </ul> <p>No SQL parsing, indexing, or transactions yet.</p> <hr/> <h3 id="architecture-overview">Architecture Overview</h3> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Database
‚îú‚îÄ‚îÄ Catalog ‚Üí stores schema metadata (catalog.meta)
‚îú‚îÄ‚îÄ StorageEngine ‚Üí manages .tbl files (JSON-lines)
‚îî‚îÄ‚îÄ Foundries/ ‚Üí directory holding table files
</code></pre></div></div> <hr/> <h3 id="components">Components</h3> <table> <thead> <tr> <th>Module</th> <th>Responsibility</th> </tr> </thead> <tbody> <tr> <td><code class="language-plaintext highlighter-rouge">foundrydb.database</code></td> <td>Orchestrates catalog and storage; entry point for REPL and tests</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">foundrydb.storage</code></td> <td>Handles file I/O (<code class="language-plaintext highlighter-rouge">insert</code>, <code class="language-plaintext highlighter-rouge">scan</code>)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">foundrydb.catalog</code></td> <td>Maintains metadata stub (created in Phase 1)</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">foundrydb.cli</code></td> <td>Simple interactive shell</td> </tr> <tr> <td><code class="language-plaintext highlighter-rouge">tests/</code></td> <td>Pytest suite verifying insert/scan/persistence</td> </tr> </tbody> </table> <hr/> <h3 id="file-format">File Format</h3> <ul> <li>One <code class="language-plaintext highlighter-rouge">.tbl</code> file per table, stored under the database path</li> <li>Each line = one row (JSON object)</li> </ul> <p>Example <code class="language-plaintext highlighter-rouge">users.tbl</code></p> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Alice"</span><span class="p">}</span><span class="w">
</span><span class="p">{</span><span class="nl">"id"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="nl">"name"</span><span class="p">:</span><span class="s2">"Bob"</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <hr/> <h3 id="storageengine-api">StorageEngine API</h3> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">storage</span> <span class="o">=</span> <span class="nc">StorageEngine</span><span class="p">(</span><span class="sh">"</span><span class="s">foundries/demo</span><span class="sh">"</span><span class="p">)</span>
<span class="n">storage</span><span class="p">.</span><span class="nf">insert</span><span class="p">(</span><span class="sh">"</span><span class="s">users</span><span class="sh">"</span><span class="p">,</span> <span class="p">{</span><span class="sh">"</span><span class="s">id</span><span class="sh">"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sh">"</span><span class="s">name</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Alice</span><span class="sh">"</span><span class="p">})</span>
<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">storage</span><span class="p">.</span><span class="nf">scan</span><span class="p">(</span><span class="sh">"</span><span class="s">users</span><span class="sh">"</span><span class="p">):</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">row</span><span class="p">)</span>
</code></pre></div></div> <hr/> <h3 id="database-class">Database Class</h3> <ul> <li>Initializes Catalog + StorageEngine</li> <li>Provides <code class="language-plaintext highlighter-rouge">.execute()</code> stub for later SQL handling</li> </ul> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">db</span> <span class="o">=</span> <span class="nc">Database</span><span class="p">(</span><span class="sh">"</span><span class="s">foundries/demo</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db</span><span class="p">.</span><span class="nf">execute</span><span class="p">(</span><span class="sh">"</span><span class="s">INSERT INTO users VALUES {</span><span class="sh">'</span><span class="s">id</span><span class="sh">'</span><span class="s">:1,</span><span class="sh">'</span><span class="s">name</span><span class="sh">'</span><span class="s">:</span><span class="sh">'</span><span class="s">Alice</span><span class="sh">'</span><span class="s">};</span><span class="sh">"</span><span class="p">)</span>
<span class="n">db</span><span class="p">.</span><span class="nf">execute</span><span class="p">(</span><span class="sh">"</span><span class="s">SELECT * FROM users;</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div> <hr/> <h3 id="lessons--decisions">Lessons &amp; Decisions</h3> <ul> <li>Format: JSON-lines for human readability &amp; ease of testing</li> <li>No schema validation yet: will arrive in Phase 3 (Catalog expansion)</li> <li>Append-only writes: simpler recovery and safe for Phase 1</li> <li>Error handling: breaks on corrupted lines gracefully</li> <li>Next: build a basic SQL parser for SELECT and WHERE clauses</li> </ul> <hr/> <h3 id="build--release-process">Build &amp; Release Process</h3> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest <span class="nt">-v</span>           <span class="c"># all green</span>
ruff check <span class="nb">.</span> <span class="nt">--fix</span>  <span class="c"># clean code</span>
mypy foundrydb/     <span class="c"># no typing errors</span>
</code></pre></div></div> <p>Confirm version inside <code class="language-plaintext highlighter-rouge">foundrydb/__init__.py</code>:</p> <div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">__version__</span> <span class="o">=</span> <span class="sh">"</span><span class="s">0.1.0</span><span class="sh">"</span>
</code></pre></div></div> <p>Update README.md badges:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">![</span><span class="nv">Version</span><span class="p">](</span><span class="sx">https://img.shields.io/badge/version-0.1.0-orange</span><span class="p">)</span>
</code></pre></div></div> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>build twine
python <span class="nt">-m</span> build
twine upload dist/<span class="k">*</span>
</code></pre></div></div> <hr/> <h3 id="phase-1-checklist">Phase 1 Checklist</h3> <ul class="task-list"> <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked"/>Persistent storage layer</li> <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked"/>Basic API (<code class="language-plaintext highlighter-rouge">insert</code>, <code class="language-plaintext highlighter-rouge">scan</code>)</li> <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked"/>File-based persistence</li> <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled"/>SQL parser</li> <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" checked="checked"/>Query execution</li> </ul> <hr/> <h3 id="reflections">Reflections</h3> <p>Building even a toy database taught me how critical consistency, atomic writes, and metadata management are. I now understand why mature systems like SQLite are as intricate as they are.</p> <hr/> <h3 id="next-phase-simple-query-language-phase-2">Next Phase: Simple Query Language (Phase 2)</h3> <p>Goals:</p> <ul> <li>Hand-rolled SQL parser (SELECT, WHERE)</li> <li>Expression evaluation</li> <li>Query execution via full table scan</li> <li>More formal AST and error handling</li> </ul> <hr/> <p><em>Tags: #Python #Databases #FoundryDB #DevLog</em></p>]]></content><author><name></name></author><category term="Development"/><category term="FoundryDB"/><category term="SQL"/><category term="Database"/><category term="Python"/><summary type="html"><![CDATA[Creating a toy SQL database in Python]]></summary></entry><entry><title type="html">JavaScript Game Development 1 - Platformer Basics</title><link href="https://a1inani.github.io/blog/2025/js_platformer/" rel="alternate" type="text/html" title="JavaScript Game Development 1 - Platformer Basics"/><published>2025-10-30T00:00:00+00:00</published><updated>2025-10-30T00:00:00+00:00</updated><id>https://a1inani.github.io/blog/2025/js_platformer</id><content type="html" xml:base="https://a1inani.github.io/blog/2025/js_platformer/"><![CDATA[<p>So I gave it some thought, and I think the smart thing to do is put the AthenaEnv idea on pause for a bit. I‚Äôll put some time aside to actually learn how to do some basic web development in JavaScript. And this short series will attempt to document that whole journey. I got ChatGPT to plan out a study plan on game development in JavaScript. I‚Äôll attempt to follow along with this as I figure out how all this works. We‚Äôll stay close to pure JavaScript + HTML5 Canvas (no frameworks).</p> <h4 id="what-are-you-building-first">What are you building first?</h4> <p>Goal: Create a simple 2D platformer where the player can move and jump.</p> <p>Topics Covered:</p> <ul> <li>Setting up HTML/CSS/JS structure</li> <li>Drawing with the Canvas API</li> <li>Game loop using requestAnimationFrame()</li> <li>Keyboard input handling</li> <li>Gravity, jumping, and collision detection</li> </ul> <p>Outcome: You‚Äôll have a green box that jumps across platforms and reaches a goal.</p> <h3 id="code">Code</h3> <p>index.html</p> <div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!doctype html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">"en"</span><span class="nt">&gt;</span>
  <span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;title&gt;</span>My First JS Game<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"style.css"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/head&gt;</span>
  <span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;canvas</span> <span class="na">id=</span><span class="s">"gameCanvas"</span> <span class="na">width=</span><span class="s">"800"</span> <span class="na">height=</span><span class="s">"400"</span><span class="nt">&gt;&lt;/canvas&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"game.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
  <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div> <p>style.css</p> <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">body</span> <span class="p">{</span>
  <span class="nl">margin</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
  <span class="nl">overflow</span><span class="p">:</span> <span class="nb">hidden</span><span class="p">;</span>
  <span class="nl">background</span><span class="p">:</span> <span class="nx">#222</span><span class="p">;</span>
  <span class="nl">display</span><span class="p">:</span> <span class="nb">flex</span><span class="p">;</span>
  <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
  <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">canvas</span> <span class="p">{</span>
  <span class="nl">border</span><span class="p">:</span> <span class="m">2px</span> <span class="nb">solid</span> <span class="nx">white</span><span class="p">;</span>
  <span class="nl">background-color</span><span class="p">:</span> <span class="nx">black</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <p>game.js</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nf">getElementById</span><span class="p">(</span><span class="dl">"</span><span class="s2">gameCanvas</span><span class="dl">"</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">ctx</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nf">getContext</span><span class="p">(</span><span class="dl">"</span><span class="s2">2d</span><span class="dl">"</span><span class="p">);</span>

<span class="kd">let</span> <span class="nx">goal</span> <span class="o">=</span> <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">700</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">130</span><span class="p">,</span> <span class="na">width</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="na">height</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="na">color</span><span class="p">:</span> <span class="dl">"</span><span class="s2">gold</span><span class="dl">"</span> <span class="p">};</span>

<span class="kd">let</span> <span class="nx">player</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">x</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
  <span class="na">y</span><span class="p">:</span> <span class="mi">300</span><span class="p">,</span>
  <span class="na">width</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
  <span class="na">height</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
  <span class="na">color</span><span class="p">:</span> <span class="dl">"</span><span class="s2">lime</span><span class="dl">"</span><span class="p">,</span>
  <span class="na">dy</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="na">gravity</span><span class="p">:</span> <span class="mf">0.6</span><span class="p">,</span>
  <span class="na">jumpPower</span><span class="p">:</span> <span class="o">-</span><span class="mi">12</span><span class="p">,</span>
  <span class="na">grounded</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">let</span> <span class="nx">keys</span> <span class="o">=</span> <span class="p">{};</span>

<span class="nb">document</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">keydown</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">keys</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">code</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">));</span>
<span class="nb">document</span><span class="p">.</span><span class="nf">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">keyup</span><span class="dl">"</span><span class="p">,</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">keys</span><span class="p">[</span><span class="nx">e</span><span class="p">.</span><span class="nx">code</span><span class="p">]</span> <span class="o">=</span> <span class="kc">false</span><span class="p">));</span>

<span class="kd">let</span> <span class="nx">gameWon</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

<span class="kd">function</span> <span class="nf">update</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">gameWon</span><span class="p">)</span> <span class="k">return</span><span class="p">;</span>

  <span class="k">if </span><span class="p">(</span><span class="nx">keys</span><span class="p">[</span><span class="dl">"</span><span class="s2">KeyA</span><span class="dl">"</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">player</span><span class="p">.</span><span class="nx">grounded</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">dy</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">jumpPower</span><span class="p">;</span>
    <span class="nx">player</span><span class="p">.</span><span class="nx">grounded</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if </span><span class="p">(</span><span class="nx">keys</span><span class="p">[</span><span class="dl">"</span><span class="s2">ArrowRight</span><span class="dl">"</span><span class="p">])</span> <span class="nx">player</span><span class="p">.</span><span class="nx">x</span> <span class="o">+=</span> <span class="mi">5</span><span class="p">;</span>
  <span class="k">if </span><span class="p">(</span><span class="nx">keys</span><span class="p">[</span><span class="dl">"</span><span class="s2">ArrowLeft</span><span class="dl">"</span><span class="p">])</span> <span class="nx">player</span><span class="p">.</span><span class="nx">x</span> <span class="o">-=</span> <span class="mi">5</span><span class="p">;</span>

  <span class="nx">player</span><span class="p">.</span><span class="nx">dy</span> <span class="o">+=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">gravity</span><span class="p">;</span>
  <span class="nx">player</span><span class="p">.</span><span class="nx">y</span> <span class="o">+=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">dy</span><span class="p">;</span>

  <span class="nf">checkCollisions</span><span class="p">();</span>

  <span class="k">if </span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">goal</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">goal</span><span class="p">.</span><span class="nx">width</span> <span class="o">&amp;&amp;</span> <span class="nx">player</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">player</span><span class="p">.</span><span class="nx">width</span> <span class="o">&gt;</span> <span class="nx">goal</span><span class="p">.</span><span class="nx">x</span> <span class="o">&amp;&amp;</span> <span class="nx">player</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;</span> <span class="nx">goal</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">goal</span><span class="p">.</span><span class="nx">height</span> <span class="o">&amp;&amp;</span> <span class="nx">player</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">player</span><span class="p">.</span><span class="nx">height</span> <span class="o">&gt;</span> <span class="nx">goal</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">gameWon</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nf">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">You win!</span><span class="dl">"</span><span class="p">);</span>
    <span class="nb">document</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nf">reload</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nf">draw</span><span class="p">();</span>
  <span class="nf">requestAnimationFrame</span><span class="p">(</span><span class="nx">update</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">let</span> <span class="nx">platforms</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">350</span><span class="p">,</span> <span class="na">width</span><span class="p">:</span> <span class="mi">800</span><span class="p">,</span> <span class="na">height</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span> <span class="na">color</span><span class="p">:</span> <span class="dl">"</span><span class="s2">gray</span><span class="dl">"</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span> <span class="na">width</span><span class="p">:</span> <span class="mi">250</span><span class="p">,</span> <span class="na">height</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="na">color</span><span class="p">:</span> <span class="dl">"</span><span class="s2">gray</span><span class="dl">"</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">x</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span> <span class="na">y</span><span class="p">:</span> <span class="mi">180</span><span class="p">,</span> <span class="na">width</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="na">height</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="na">color</span><span class="p">:</span> <span class="dl">"</span><span class="s2">gray</span><span class="dl">"</span> <span class="p">},</span>
<span class="p">];</span>

<span class="kd">function</span> <span class="nf">draw</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nf">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>

  <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">p</span> <span class="k">of</span> <span class="nx">platforms</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>
    <span class="nx">ctx</span><span class="p">.</span><span class="nf">fillRect</span><span class="p">(</span><span class="nx">p</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">p</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">goal</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nf">fillRect</span><span class="p">(</span><span class="nx">goal</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">goal</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">goal</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">goal</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>

  <span class="nx">ctx</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">color</span><span class="p">;</span>
  <span class="nx">ctx</span><span class="p">.</span><span class="nf">fillRect</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">player</span><span class="p">.</span><span class="nx">y</span><span class="p">,</span> <span class="nx">player</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">player</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">checkCollisions</span><span class="p">()</span> <span class="p">{</span>
  <span class="nx">player</span><span class="p">.</span><span class="nx">grounded</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
  <span class="k">for </span><span class="p">(</span><span class="kd">let</span> <span class="nx">p</span> <span class="k">of</span> <span class="nx">platforms</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">p</span><span class="p">.</span><span class="nx">width</span> <span class="o">&amp;&amp;</span> <span class="nx">player</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">player</span><span class="p">.</span><span class="nx">width</span> <span class="o">&gt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">x</span> <span class="o">&amp;&amp;</span> <span class="nx">player</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">player</span><span class="p">.</span><span class="nx">height</span> <span class="o">&gt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">y</span> <span class="o">&amp;&amp;</span> <span class="nx">player</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">player</span><span class="p">.</span><span class="nx">height</span> <span class="o">&lt;</span> <span class="nx">p</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">p</span><span class="p">.</span><span class="nx">height</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">player</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">p</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">player</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>
      <span class="nx">player</span><span class="p">.</span><span class="nx">dy</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="nx">player</span><span class="p">.</span><span class="nx">grounded</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nf">update</span><span class="p">();</span>
</code></pre></div></div> <h4 id="finished-game">Finished Game</h4> <style>canvas{border:2px solid white;background-color:black}</style> <canvas id="gameCanvas" width="800" height="400"></canvas> <script>
const canvas = document.getElementById("gameCanvas");
const ctx = canvas.getContext("2d");

let goal = {x: 700, y: 130, width: 30, height: 30, color: "gold"};

let player = {
    x: 50,
    y: 300,
    width: 50,
    height: 50,
    color: "lime",
    dy: 0,
    gravity: 0.6,
    jumpPower: -12,
    grounded: false
};

let keys = {};

document.addEventListener("keydown", (e) => keys[e.code] = true);
document.addEventListener("keyup", (e) => keys[e.code] = false);

let gameWon = false;

function update() {
    if (gameWon) return;

    if (keys["KeyA"] && player.grounded) {
        player.dy = player.jumpPower;
        player.grounded = false;
    }

    if (keys["ArrowRight"]) player.x += 5;
    if (keys["ArrowLeft"]) player.x -= 5;

    player.dy += player.gravity;
    player.y += player.dy;

    checkCollisions();

    if (
        player.x < goal.x + goal.width &&
        player.x + player.width > goal.x &&
        player.y < goal.y + goal.height &&
        player.y + player.height > goal.y
    ) {
        gameWon = true;
        alert("You win!");
        document.location.reload();
    }

    draw();
    requestAnimationFrame(update);
}

let platforms = [
    {x: 0, y:350, width: 800, height: 50, color: "gray"},
    {x: 200, y:250, width: 250, height: 20, color: "gray"},
    {x: 500, y:180, width: 100, height: 20, color: "gray"},
];

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    for (let p of platforms) {
        ctx.fillStyle = p.color;
        ctx.fillRect(p.x, p.y, p.width, p.height);
    }

    ctx.fillStyle = goal.color;
    ctx.fillRect(goal.x, goal.y, goal.width, goal.height);

    ctx.fillStyle = player.color;
    ctx.fillRect(player.x, player.y, player.width, player.height);
}

function checkCollisions() {
    player.grounded = false;
    for (let p of platforms) {
        if (
            player.x < p.x + p.width &&
            player.x + player.width > p.x &&
            player.y + player.height > p.y &&
            player.y + player.height < p.y + p.height
        ) {
            player.y = p.y - player.height;
            player.dy = 0;
            player.grounded = true;
        }
    }
}

update();
</script> <h4 id="next-steps">Next Steps</h4> <p>-</p>]]></content><author><name></name></author><category term="Game-Development"/><category term="JavaScript"/><summary type="html"><![CDATA[Building a simple platformer in JavaScript]]></summary></entry><entry><title type="html">Building IsoCreator</title><link href="https://a1inani.github.io/blog/2025/isocreator/" rel="alternate" type="text/html" title="Building IsoCreator"/><published>2025-10-14T00:00:00+00:00</published><updated>2025-10-14T00:00:00+00:00</updated><id>https://a1inani.github.io/blog/2025/isocreator</id><content type="html" xml:base="https://a1inani.github.io/blog/2025/isocreator/"><![CDATA[<p>So there I was with a full converted PlayStation 2 project in hand and ready to run. Executing it as an ELF file was fine, but I‚Äôm trying not to settle for fine. Wouldn‚Äôt it be nice if it were packaged as an ISO file?</p> <h4 id="why-not-use-a-proprietary-tool">Why not use a Proprietary Tool?</h4> <p>Umm, no. Not because it won‚Äôt get the job done. I‚Äôm opposed to the idea of using paid software for what should be a simple and straightforward task. So I guess I‚Äôll build it myself.</p> <h4 id="building-the-app">Building the App</h4> <p>So as a proof of concept, I started out with building a console app. It relied on the DiscUtils.Iso9660 package to handle ISO creation. It received two parameters: (1) the folder containing the files to include in the image, and (2) the location and filename of the resulting image.</p> <p>It worked!</p> <h4 id="iso-generation">ISO Generation</h4> <div class="language-c# highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">private</span> <span class="k">async</span> <span class="n">Task</span> <span class="nf">CreateIsoImageAsync</span><span class="p">(</span><span class="kt">string</span> <span class="n">sourceFolder</span><span class="p">,</span> <span class="kt">string</span> <span class="n">outputIso</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">await</span> <span class="n">Task</span><span class="p">.</span><span class="nf">Run</span><span class="p">(()</span> <span class="p">=&gt;</span>
    <span class="p">{</span>
        <span class="c1">// Create the ISO builder</span>
        <span class="n">CDBuilder</span> <span class="n">builder</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">CDBuilder</span><span class="p">();</span>
        <span class="n">builder</span><span class="p">.</span><span class="n">UseJoliet</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>
        <span class="n">builder</span><span class="p">.</span><span class="n">VolumeIdentifier</span> <span class="p">=</span> <span class="n">Path</span><span class="p">.</span><span class="nf">GetFileName</span><span class="p">(</span><span class="n">sourceFolder</span><span class="p">);</span>

        <span class="c1">// Count total files first for progress tracking</span>
        <span class="nf">UpdateStatus</span><span class="p">(</span><span class="s">"Scanning files..."</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">totalFiles</span> <span class="p">=</span> <span class="nf">CountFiles</span><span class="p">(</span><span class="n">sourceFolder</span><span class="p">);</span>
        <span class="kt">int</span> <span class="n">processedFiles</span> <span class="p">=</span> <span class="m">0</span><span class="p">;</span>

        <span class="nf">LogMessage</span><span class="p">(</span><span class="s">$"Found </span><span class="p">{</span><span class="n">totalFiles</span><span class="p">}</span><span class="s"> files to add"</span><span class="p">);</span>
        <span class="nf">UpdateProgress</span><span class="p">(</span><span class="m">0</span><span class="p">);</span>

        <span class="c1">// Add files and folders recursively</span>
        <span class="nf">UpdateStatus</span><span class="p">(</span><span class="s">"Adding files to ISO..."</span><span class="p">);</span>
        <span class="nf">AddDirectory</span><span class="p">(</span><span class="n">builder</span><span class="p">,</span> <span class="n">sourceFolder</span><span class="p">,</span> <span class="s">""</span><span class="p">,</span> <span class="k">ref</span> <span class="n">processedFiles</span><span class="p">,</span> <span class="n">totalFiles</span><span class="p">);</span>

        <span class="c1">// Build and write the ISO</span>
        <span class="nf">UpdateStatus</span><span class="p">(</span><span class="s">"Building and writing ISO image..."</span><span class="p">);</span>
        <span class="nf">UpdateProgress</span><span class="p">(</span><span class="m">95</span><span class="p">);</span>

        <span class="k">using</span> <span class="p">(</span><span class="n">FileStream</span> <span class="n">isoStream</span> <span class="p">=</span> <span class="n">File</span><span class="p">.</span><span class="nf">Create</span><span class="p">(</span><span class="n">outputIso</span><span class="p">))</span>
        <span class="p">{</span>
            <span class="n">builder</span><span class="p">.</span><span class="nf">Build</span><span class="p">(</span><span class="n">isoStream</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="nf">UpdateProgress</span><span class="p">(</span><span class="m">100</span><span class="p">);</span>
        <span class="nf">UpdateStatus</span><span class="p">(</span><span class="s">"ISO creation completed!"</span><span class="p">);</span>

        <span class="n">FileInfo</span> <span class="n">fi</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">FileInfo</span><span class="p">(</span><span class="n">outputIso</span><span class="p">);</span>
        <span class="nf">LogMessage</span><span class="p">(</span><span class="s">$"ISO size: </span><span class="p">{</span><span class="nf">FormatBytes</span><span class="p">(</span><span class="n">fi</span><span class="p">.</span><span class="n">Length</span><span class="p">)}</span><span class="s">"</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="creating-a-gui-application">Creating a GUI application</h4> <p>So this works, and would be fine for my uses. The vast majority of users on Windows would prefer some kind of GUI, so that was the next target. Implementing the same functionality in a windowed interface, away from the scary black screen.</p> <p>So I set up a new project in Visual Studio, using the ‚ÄúWindows Forms App (.NET Framework)‚Äù example project. The default Form1.cs file was deleted, and everything was defined with the Program.cs file. The window looks as follows:</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/isocreator_win1-480.webp 480w,/assets/img/isocreator_win1-800.webp 800w,/assets/img/isocreator_win1-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/isocreator_win1.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <h4 id="next-steps">Next Steps</h4> <ul> <li>General UX improvements</li> <li>Show folder statistics</li> <li>Add Volume Name field</li> <li>Show Folder on complete</li> <li>Emoji Icons</li> <li>Improved logging</li> <li>Cancel button during ISO creation.</li> </ul>]]></content><author><name></name></author><category term="Game-Development"/><category term="C#"/><category term="ISO"/><summary type="html"><![CDATA[Creating a C# tool for ISO creation]]></summary></entry><entry><title type="html">PS2 Development with AthenaEnv</title><link href="https://a1inani.github.io/blog/2025/ps2_development_with_athenaenv/" rel="alternate" type="text/html" title="PS2 Development with AthenaEnv"/><published>2025-10-08T00:00:00+00:00</published><updated>2025-10-08T00:00:00+00:00</updated><id>https://a1inani.github.io/blog/2025/ps2_development_with_athenaenv</id><content type="html" xml:base="https://a1inani.github.io/blog/2025/ps2_development_with_athenaenv/"><![CDATA[<p>For the better part of a year, I‚Äôve been enamoured by the idea of doing full on game development. About a decade ago I tinkered around in Unity (and Blender), under the guidance of a YouTube playlist. I built one simple game and my interest ended there. A couple of years later, I got my hands on a Phat PAL PS2 (enter model number here) and a FreeMcBoot memory card. This got me thinking, what if I gave PS2 game development a try? What is it like to write game code that runs on bare metal? No operating system or hypervisor to run on top of.</p> <p>So I set out in search of the PS2 SDK and stumbled upon a preconfigured Docker container (ps2dev/ps2dev). I searched for a tutorial on YouTube and I was off to the races, writing C++ code for the first time in quite a while. I didn‚Äôt get too far along in this process, and frankly I didn‚Äôt know what was going on most of the time, so I shelved it a couple of weeks in.</p> <p>By chance, I saw a YouTube video that described the process of converting a web-based game (written in JavaScript) to run on a PS2 relying on the AthenaEnv platform. This got me longing to give PS2 development a shot once more, this time without having to worry about the complexity of C++ development. So here we are.</p> <h4 id="what-is-athenaenv">What is AthenaEnv?</h4> <p><a href="https://github.com/DanielSant0s/AthenaEnv">AthenaEnv</a> is a project that allows for the development of homebrew software for the PlayStation 2 using JavaScript. In essence, it provides an abstration layer (implementing several interfaces to key system calls). The main advantage it has over bare metal programming is that it allows you to iterate quickly, not having to compile. Just rerun the ELF file after making changes to your JavaScript code, and there you are. Fast and simple!</p> <p>AthenaEnv uses a slightly modified version of the QuickJS interpreter for JavaScript. So at its core, AthenaEnv is basically a JavaScript loader. It runs ‚Äúmain.js‚Äù by default, but it can run other files by passing it as the first argument when launching the ELF file.</p> <p>Enough about that for now, lets begin setting up to write some basic code!</p> <h4 id="setting-up-the-project">Setting up the project</h4> <p>To get started, all I needed to dp was download the default template from <a href="https://github.com/JSLegendDev/Athena-PS2-Template">this</a> GitHub repository linked above. For the purpose of testing,, I also installed the <a href="https://pcsx2.net/downloads/">PCSX2</a> emulator. This comes in handy for quick testing, removing the need to boot up the PlayStation 2 every time I need to test a new build. Other guides online will better describe the setup guide, so I won‚Äôt spend any time talking about that.</p> <h4 id="first-test-case---2048">First Test Case - 2048</h4> <p>As a test case, I figured I‚Äôd scratch a second itch and take a look at the code generation capabilities of <a href="https://claude.ai">Claude</a>. So I pointed it to the GitHub repository holding the JavaScript 2048 game I picked as the test case (<a href="https://github.com/gd4Ark/2048">link</a>), the AthenaEnv repository, and basically told it to port that code to that platform. Below is what the web game looks like in a browser:</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2048-480.webp 480w,/assets/img/2048-800.webp 800w,/assets/img/2048-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/2048.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>Now the initial version wasn‚Äôt the best, but after fiddling with it a bit, I got it to look like this:</p> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/2048-ps2-480.webp 480w,/assets/img/2048-ps2-800.webp 800w,/assets/img/2048-ps2-1400.webp 1400w," type="image/webp" sizes="95vw"/> <img src="/assets/img/2048-ps2.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <p>I still need to do a bit of testing on it, I‚Äôm not sure if it is a key binding issue on my emulator but I‚Äôm struggling to get the game to begin in initial tests. I will then have to a couple of tests on device before I am happy sharing an ISO version.</p> <h4 id="next-steps">Next Steps</h4> <p>I can run the ELF files as is on console/emulator, but to fully scratch the itch I‚Äôd like to create ISO files for each game. While solutions exist (e.g. proprietary image burning software or using unix tools through the Windows Subsystem for Linux), I‚Äôm not too happy with those options. I guess the next step is building a small console app to help with that.</p> <p>I need to have a lot more practice playing around with this platform before I can even entertain the idea of building something from scratch. For now I‚Äôll focus more on converting already made games to run on this.</p>]]></content><author><name></name></author><category term="Game-Development"/><category term="PS2-Development"/><category term="AthenaEnv"/><summary type="html"><![CDATA[Getting Started in PS2 Development]]></summary></entry></feed>